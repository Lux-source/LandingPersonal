---
import ThemeToggle from "./ThemeToggle.astro";
import LanguageToggle from "./LanguageToggle.astro";
import translationsES from "../../local/es.json";
import translationsEN from "../../local/en.json";

// Definimos los enlaces con su "label" (la clave en el JSON)
// y su url correspondiente.
const navItems = [
	{ title: "Experiencia", label: "experiencia", url: "/#experiencia" },
	{ title: "Proyectos", label: "proyectos", url: "/#proyectos" },
	{ title: "Sobre mí", label: "sobreMi", url: "/#sobre-mi" },
	{
		title: "Contacto",
		label: "contacto",
		url: "mailto:negoitalucianandrei@gmail.com",
	},
];

// Recibimos el idioma (lang). Por defecto, "es" si no llega ningún valor.
const { lang = "es" } = Astro.props;

// Cargamos las traducciones según el idioma que tengamos en 'lang'.
const t = lang === "en" ? translationsEN : translationsES;
---

<header
	class="fixed top-0 z-10 flex items-center justify-center w-full mx-auto mt-2"
>
	<nav
		class="flex px-3 text-sm font-medium rounded-full text-gray-600 dark:text-gray-200 justify-center items-center"
	>
		{
			navItems.map((link) => (
				<a
					class="relative block px-2 py-2 transition hover:text-blue-500 dark:hover:text-blue-500"
					aria-label={link.label}
					href={link.url}
				>
					{t.header.nav[link.label]}
				</a>
			))
		}
		<ThemeToggle />
		<LanguageToggle lang={lang} />
	</nav>
</header>
